%h1 Сведения об оплате

%table.table.table-striped.table-hover
  %thead
    %tr
      %th Студент
      %th Стоимость
      %th Статус оплаты
      %th
      %th
      %th

  %tbody
  
    - @payments.each do |payment|
      -next if payment.student.nil?
      %tr
        %td= payment.student.try(:person).try(:last_name)
        %td= payment.cost
        %td= payment.status
        %td= link_to 'Показать', payment, class: "btn btn-success"
        %td= link_to 'Редактировать', edit_payment_path(payment), class: "btn btn-info"
        %td= link_to 'Удалить', payment, :method => :delete, :data => { :confirm => 'Удалить?' }, class: "btn btn-danger"
%br

= link_to 'Добавить', new_payment_path(type: :student), class: "btn btn-success"
%table.table.table-striped.table-hover
  %thead
    %tr
      %th Сотрудник
      %th Стоимость
      %th Статус оплаты
      %th
      %th
      %th

  %tbody
  
    - @payments.each do |payment|
      -next if payment.worker.nil?
      %tr
        %td= payment.worker.try(:person).try(:last_name)
        %td= payment.cost
        %td= payment.status
        %td= link_to 'Показать', payment, class: "btn btn-success"
        %td= link_to 'Редактировать', edit_payment_path(payment), class: "btn btn-info"
        %td= link_to 'Удалить', payment, :method => :delete, :data => { :confirm => 'Удалить?' }, class: "btn btn-danger"

%br
= link_to 'Добавить', new_payment_path(type: :employee), class: "btn btn-success"

